{"version":3,"sources":["index.ts"],"sourcesContent":["export interface NativeElement extends Element {\n  _nativeTag: number;\n  _children: NativeElement[];\n}\n\nfunction containsNative(node: NativeElement, targetTag: number) {\n  if (!node._nativeTag) {\n    return (node as unknown as number) === targetTag;\n  }\n  if (node._nativeTag === targetTag) {\n    return true;\n  }\n  for (let i = 0; i < node._children.length; i++) {\n    if (containsNative(node._children[i], targetTag)) {\n      return true;\n    }\n  }\n  return false;\n}\n\nfunction containsDOM(node: Element, target: Element) {\n  if (node == target) {\n    return true;\n  }\n  for (let i = 0; i < node.children.length; i++) {\n    if (containsDOM(node.children[i], target)) {\n      return true;\n    }\n  }\n  return false;\n}\n\nexport default function contains(\n  element: Element | HTMLElement | NativeElement,\n  target: Element | HTMLElement | NativeElement | number,\n) {\n  // dom built-in\n  if ((element as HTMLElement).contains) {\n    return (element as HTMLElement).contains(target as HTMLElement);\n  }\n\n  // dom tree\n  else if ((element as Element).children) {\n    return containsDOM(element as Element, target as Element);\n  }\n\n  // native\n  const targetTag = (target as NativeElement)._nativeTag;\n  return containsNative(\n    element as NativeElement,\n    targetTag ?? (target as number),\n  );\n}\n"],"names":["contains","element","target","children","containsDOM","targetTag","_nativeTag","containsNative","node","i","_children","length"],"mappings":"AAAA;;;;kBAgCwBA,QAAQ;AAAjB,SAASA,QAAQ,CAC9BC,OAA8C,EAC9CC,MAAsD,EACtD;IACA,eAAe;IACf,IAAI,AAACD,OAAO,CAAiBD,QAAQ,EAAE;QACrC,OAAO,AAACC,OAAO,CAAiBD,QAAQ,CAACE,MAAM,CAAgB,CAAC;KACjE,MAGI,IAAI,AAACD,OAAO,CAAaE,QAAQ,EAAE;QACtC,OAAOC,WAAW,CAACH,OAAO,EAAaC,MAAM,CAAY,CAAC;KAC3D;IAED,SAAS;IACT,IAAMG,SAAS,GAAG,AAACH,MAAM,CAAmBI,UAAU,AAAC;IACvD,OAAOC,cAAc,CACnBN,OAAO,EACPI,SAAS,aAATA,SAAS,cAATA,SAAS,GAAKH,MAAM,AAAW,CAChC,CAAC;CACH;AA/CD,SAASK,cAAc,CAACC,IAAmB,EAAEH,SAAiB,EAAE;IAC9D,IAAI,CAACG,IAAI,CAACF,UAAU,EAAE;QACpB,OAAO,AAACE,IAAI,KAA2BH,SAAS,CAAC;KAClD;IACD,IAAIG,IAAI,CAACF,UAAU,KAAKD,SAAS,EAAE;QACjC,OAAO,IAAI,CAAC;KACb;IACD,IAAK,IAAII,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGD,IAAI,CAACE,SAAS,CAACC,MAAM,EAAEF,CAAC,EAAE,CAAE;QAC9C,IAAIF,cAAc,CAACC,IAAI,CAACE,SAAS,CAACD,CAAC,CAAC,EAAEJ,SAAS,CAAC,EAAE;YAChD,OAAO,IAAI,CAAC;SACb;KACF;IACD,OAAO,KAAK,CAAC;CACd;AAED,SAASD,WAAW,CAACI,IAAa,EAAEN,MAAe,EAAE;IACnD,IAAIM,IAAI,IAAIN,MAAM,EAAE;QAClB,OAAO,IAAI,CAAC;KACb;IACD,IAAK,IAAIO,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGD,IAAI,CAACL,QAAQ,CAACQ,MAAM,EAAEF,CAAC,EAAE,CAAE;QAC7C,IAAIL,WAAW,CAACI,IAAI,CAACL,QAAQ,CAACM,CAAC,CAAC,EAAEP,MAAM,CAAC,EAAE;YACzC,OAAO,IAAI,CAAC;SACb;KACF;IACD,OAAO,KAAK,CAAC;CACd"}